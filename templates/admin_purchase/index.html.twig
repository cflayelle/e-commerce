{% extends 'admin.base.html.twig' %}

{% block title %}Commandes{% endblock %}

{% block body %}

  <div class="mt-5">
    <h1>Listes Commandes</h1>
    {% if purchases | length %}
        <table class="table table-hover table-light table-striped">
      <thead>
        <tr class="table-dark">
          <th scope="col">Numéro de commandes</th>
          <th scope="col">Utilisateurs</th>
          <th scope="col">Statut</th>
          <th scope="col" class=" text-end ">Quantité</th>
          <th scope="col" class=" text-end ">Prix total</th>
          <th scope="col" class=" text-end ">Date</th>
          <th scope="col" class=" text-center ">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for purchase in purchases %}
          <tr class="">
            <th>{{purchase.id}}</th>
            <th>{{purchase.cart.user.email}}</th>
            <td>{{purchase.status}}</td>
            <td class=" text-end ">{{ purchase.cart.quantityTotal }}</td>
            <td class=" text-end ">{{ purchase.cart.totalPrice }}€</td>
            <td class=" text-end ">{{ purchase.purchaseDate | date('d/m/Y')}}</td>
            <td class=" text-center ">
                <a href="{{path("admin_purchase_edit",{id:purchase.id})}}" class="btn btn-sm btn-outline-primary">Modifier le statut</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <div>Aucune commande passé</div>
    {% endif %}
  </div>
{% endblock %}
