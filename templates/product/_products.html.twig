{% for product in products %}
  <div>
    <a href="{{ path( 'show_product', {id:product.id}) }}">
      <article class="card-product">
        <div class="card-image">
          <div class="image-container">
            <img class="user-select-none" src="{{ vich_uploader_asset(product)}}" alt="">
          </div>
        </div>
        <div class="card-content">
          <div>
            <h1 class="card-title">
              {{product.name}}
            </h1>
            {% if product.comments | length > 0 %}
            <div class="d-flex align-items-center">
              <div class="rate-avg">
                <div class="stars">
                  {% for i in 1..5 %}
                    {% if i < product.rateAvg %}
                      <i class="bi bi-star-fill"></i>
                    {% elseif  i >= product.rateAvg and i < product.rateAvg + 1 %}
                      <i class="bi bi-star-fill active" style="--rating:{{ ( product.rateAvg + 1 - i) }}"></i>
                    {% else %}
                      <i class="bi bi-star"></i>
                    {% endif %}
                  {% endfor %}
                  <span>{{ product.comments | length }}</span>
                </div>
                <div class="border-star">
                  {% for i in 1..5 %}
                    <i class="bi bi-star"></i>
                  {% endfor %}
                </div>
              </div>
            </div>
            {% endif %}
          </div>
          <div class="d-flex justify-content-center align-items-start">
            <a href="{{path('app_cart_add', {id:product.id})}}" class="btnc btnc-primary add-cart">
              Ajouter au panier
              {{ product.price }}
              â‚¬
            </a>
          </div>
        </div>
      </article>
    </a>
  </div>
{% endfor %}